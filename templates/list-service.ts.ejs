<% const toSnakeCase = (str) => str.replace(/-/g, '_'); %>

async list(paginationParams: PaginationDTO) {
    const fields = <%- JSON.stringify(fieldsForSearch) %>;
    const OR: any[] = this.prismaService.createInsensitiveSearch(
      fields,
      paginationParams,
    );

    if (paginationParams.search && !isNaN(+paginationParams.search)) {
      OR.push({ id: { equals: +paginationParams.search } });
    }

    return this.paginationService.paginate(
      this.prismaService.<%= toSnakeCase(tableName) %>,
      paginationParams,
      {
        where: {
          OR,
        },
      },
    );
  }