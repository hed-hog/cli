import { useApp } from '@/hooks/use-app'
import { HttpMethod } from '@/types/http-method'
import { Delete } from '@/types/delete'
import { Pagination } from '@/types/pagination'
import { <%= tableNamePascalCase %> } from '@/types/models'

export function requests() {
  const { request } = useApp()

  const <%= tableNameCamelCase %>Create = async (data: <%= tableNamePascalCase %> ) => {
    return request<<%= tableNamePascalCase %>>(
     { 
        url: '/<%= tableNameKebabCase %>',
        method: HttpMethod.POST,
        data
      }
    )
  }

  const <%= tableNameCamelCase %>Update = async (id: number, data: PersonType) => {
    return request<<%= tableNamePascalCase %>>(
      {
        url: `/<%= tableNameKebabCase %>/${id}`,
        method: HttpMethod.PATCH,
        data
      }
    )
  }

  const <%= tableNameCamelCase %>Delete = async (ids: number[]) => {
    return request<Delete>(
      {
        url: '/<%= tableNameKebabCase %>',
        data: { ids },
        method: HttpMethod.DELETE,
        data: params}
    )
  }

  const <%= tableNameCamelCase %>List = async (params: Pagination) => {
    return request<<%= tableNamePascalCase %>>(
      {
        url: '/<%= tableNameKebabCase %>',
        params
      }
    )
  }

  const <%= tableNameCamelCase %>Get = async (id: number) => {
    return request<<%= tableNamePascalCase %>>(
      {
        url: `/<%= tableNameKebabCase %>/${id}`
      }
    )
  }

  return {
    <%= tableNameCamelCase %>Create,
    <%= tableNameCamelCase %>Update,
    <%= tableNameCamelCase %>Delete,
    <%= tableNameCamelCase %>List,
    <%= tableNameCamelCase %>Get,
  }
}
