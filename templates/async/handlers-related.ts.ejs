import { useDefaultMutation } from '@/hooks/use-default-mutation'
import { useQuery } from '@tanstack/react-query'
import { requests } from './requests'

const scope = '<%= tableNameCase.kebab %>'

export function use<%= tableNameCase.pascal %>Create() {
  const { <%= tableNameCase.camel %>Create } = requests()
  return useDefaultMutation(scope, 'create', <%= tableNameCase.camel %>Create)
}

export function use<%= tableNameCase.pascal %>Delete() {
  const { <%= tableNameCase.camel %>Delete } = requests()
  return useDefaultMutation(scope, 'delete', <%= tableNameCase.camel %>Delete)
}

export function use<%= tableNameCase.pascal %>Update() {
  const { <%= tableNameCase.camel %>Update } = requests()
  return useDefaultMutation(scope, 'update', <%= tableNameCase.camel %>Update)
}

export function use<%= tableNameCase.pascal %>Get(<%= fkNameCase.camel %>: number, <%= pkNameCase.camel %>: number) {
  const { <%= tableNameCase.camel %>Get } = requests()
  return useQuery({
    queryKey: [scope, 'get'],
    queryFn: () => <%= tableNameCase.camel %>Get({<%= fkNameCase.camel %>, <%= pkNameCase.camel %>}),
  })
}
